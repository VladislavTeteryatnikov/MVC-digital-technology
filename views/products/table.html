<? include_once("views/common/header.html"); ?>

  <? if ($this->isAuthorized): ?>
      <a class="btn btn-primary" href="<?= FULL_SITE_ROOT . 'product/add/'; ?>">Добавить</a>
  <? endif; ?>
  <table class="table table-bordered">
      <thead class="table-dark">
        <tr>
            <th> ID </th>
            <th> Название товара </th>
            <th> Категория </th>
            <th> Цена </th>
            <th> Производитель </th>
            <th> Наличие </th>
            <th> Описание товара </th>
            <? if ($this->isAuthorized): ?>
              <th> Действия </th>
            <? endif; ?>
        </tr>
      </thead>
      <tbody>
        <? foreach ($products as $product): ?>
          <tr>
              <td> <?= $product['product_id']; ?></td>
              <td> <?= $product['product_name']; ?></td>
              <td> <?= $product['category_name']; ?></td>
              <td> <?= $product['product_price']; ?></td>
              <td> <?= $product['manufacturer_name']; ?></td>
              <td> <?= $product['product_availability']; ?></td>
              <td> <?= $product['product_description']; ?></td>
              <? if ($this->isAuthorized): ?>
                <td>
                  <a class="btn btn-secondary" href="<?= FULL_SITE_ROOT . 'product/edit/' . $product['product_id']; ?>">Редактировать</a>
                  <button type="button" class="btn btn-danger" onclick="remove('product', <?= $product['product_id']; ?>)">Удалить</button>
                </td>
              <? endif; ?>
          </tr>
        <? endforeach; ?>
      </tbody>
  </table>

<? if ($total > $limit): ?>
<?= $pagination->get(); ?>
<? endif; ?>

<? include_once("views/common/footer.html"); ?>